# === Single A100 (80GB) defaults ===
# Fill in your NVIDIA/NGC API key before starting!
NGC_API_KEY=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

# Model cache location (keep on fast disk; change after mounting larger volume)
MODEL_DIRECTORY=/mnt/nim-cache/.nim-cache

# Linux user that runs the containers (numeric uid)
USERID=1000

# GPU placement (2× A100DX vGPU)
LLM_MS_GPU_ID=0
EMBEDDING_MS_GPU_ID=1
RANKING_MS_GPU_ID=1
YOLOX_MS_GPU_ID=1
YOLOX_GRAPHICS_MS_GPU_ID=1
YOLOX_TABLE_STRUCTURE_MS_GPU_ID=1
PADDLE_MS_GPU_ID=1
OCR_MS_GPU_ID=1
VLM_EMBEDDING_MS_GPU_ID=0
YOLOX_TABLE_MS_GPU_ID=1

# Conservative batch limits to avoid OOM on 80GB
PAGE_ELEMENTS_BATCH_SIZE=4
GRAPHIC_ELEMENTS_BATCH_SIZE=4
TABLE_STRUCTURE_BATCH_SIZE=4
NIM_TRITON_RATE_LIMIT=2
NEMORETRIEVER_OCR_BATCH_SIZE=1
NEMORETRIEVER_OCR_CUDA_MEMORY_POOL_MB=2048

# Milvus GPU search disabled by default; leave false for 1×A100
APP_VECTORSTORE_ENABLEGPUSEARCH=False
APP_VECTORSTORE_ENABLEGPUINDEX=False

# NV-Ingest concurrency
NV_INGEST_CONCURRENCY=4

# Absolute path to prompt config to avoid invalid mount in ingestor compose
PROMPT_CONFIG_FILE=/home/demo/projects/rag/src/nvidia_rag/rag_server/prompt.yaml

# Dataset root for NV-Ingest
DATASET_ROOT=/home/demo/projects/rag/ingest
